@swagger-ui
Feature: Create Registration For ESPO CRM

Background:
Given a user in the Swagger UI

Scenario: Successfully create PA from EspoCRM
    Given the "programId" is provided
    And the following body properties are filled in for three registrations: 'preferredLanguage', 'paymentAmountMultiplier', 'firstName', 'lastName','phoneNumber','fspName','whatsappPhoneNumber','tokenCodeVisa','isPhysicalCardVisa','addressStreet','addressHouseNumber','addressHouseNumberAddition','addressPostalCode','addressCity' and 'referenceId'

    And calls the "/programs/{programId}/registration/import-redistrations-pa" endpoint
    Then a "Custom Attribute" with all its attributes is created and returned as response
    And Code 201 is displayed


Scenario: Unsuccessfully create PA from EspoCRM
    Given the "programId" is provided
    And the following body properties are filled in for three registrations: 'preferredLanguage', 'paymentAmountMultiplier', 'firstName', 'lastName','phoneNumber','fspName','whatsappPhoneNumber','tokenCodeVisa','isPhysicalCardVisa','addressStreet','addressHouseNumber','addressHouseNumberAddition','addressPostalCode','addressCity' and 'referenceId'
    And "prefeeredLanguage" value is changed to "aaaa"
    And "phoneNumber" value is changed to 141552388861  
    
    When the user fills in the body properties with invalid data
    And calls the "/programs/{programId}/registration/import-redistrations-pa" endpoint
    Then error code 400 is displayed as response