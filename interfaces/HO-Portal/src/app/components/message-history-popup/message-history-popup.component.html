<ion-header>
  <ion-toolbar>
    <ion-title
      color="secondary"
      style="font-weight: 600"
    >
      {{
        'page.program.program-people-affected.message-history-popup.message-title'
          | translate
          | uppercase
      }}
      - PA #{{ person?.registrationProgramId }} - {{ person.name }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button
        (click)="closeModal()"
        [attr.title]="'common.cancel' | translate"
        [attr.aria-label]="'common.cancel' | translate"
      >
        <ion-icon
          name="close"
          slot="icon-only"
          aria-hidden="true"
        ></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <section>
    <ion-list>
      <ion-item
        lines="none"
        *ngFor="let message of messageHistory; let i = index"
        class="ion-margin-bottom"
      >
        <ion-col>
          <ion-row class="ion-align-items-center">
            <ion-col size="8">
              <ion-row>
                <ion-text>
                  <ion-label style="font-weight: 600">
                    {{
                      'page.program.program-people-affected.message-history-popup.content-type' +
                        message.contentType | translate
                    }}
                    {{ ' ' }}
                    ({{
                      'page.program.program-people-affected.message-history-popup.content-type' +
                        message.type | translate
                    }})
                    <ion-note style="font-weight: 400">
                      {{
                        message.created | date : 'dd-MM-yyyy HH:mm'
                      }}</ion-note
                    ></ion-label
                  >
                </ion-text>
              </ion-row>
            </ion-col>
            <ion-col size="4">
              <ion-row class="ion-justify-content-end">
                <ion-chip
                  style="width: 120px; color: var(--ion-color-secondary)"
                  color="success"
                  class="ion-justify-content-center"
                  >Read</ion-chip
                >
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-label class="ion-text-wrap">{{ message.body }}</ion-label>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-item>
    </ion-list>
  </section>
</ion-content>
